(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function x(){}function se(e){return e()}function X(){return Object.create(null)}function F(e){e.forEach(se)}function le(e){return typeof e=="function"}function he(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function pe(e){return Object.keys(e).length===0}function S(e,t){e.appendChild(t)}function _(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function _e(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function v(e){return document.createTextNode(e)}function k(){return v(" ")}function ie(){return v("")}function U(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function z(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ye(e){return Array.from(e.childNodes)}function M(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let j;function E(e){j=e}function ge(){if(!j)throw new Error("Function called outside component initialization");return j}function we(e){ge().$$.on_mount.push(e)}const C=[],Y=[],P=[],Z=[],Se=Promise.resolve();let q=!1;function be(){q||(q=!0,Se.then(re))}function K(e){P.push(e)}const R=new Set;let J=0;function re(){const e=j;do{for(;J<C.length;){const t=C[J];J++,E(t),ke(t.$$)}for(E(null),C.length=0,J=0;Y.length;)Y.pop()();for(let t=0;t<P.length;t+=1){const n=P[t];R.has(n)||(R.add(n),n())}P.length=0}while(C.length);for(;Z.length;)Z.pop()();q=!1,R.clear(),E(e)}function ke(e){if(e.fragment!==null){e.update(),F(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(K)}}const $e=new Set;function ve(e,t){e&&e.i&&($e.delete(e),e.i(t))}function Te(e,t,n,r){const{fragment:o,after_update:s}=e.$$;o&&o.m(t,n),r||K(()=>{const a=e.$$.on_mount.map(se).filter(le);e.$$.on_destroy?e.$$.on_destroy.push(...a):F(a),e.$$.on_mount=[]}),s.forEach(K)}function De(e,t){const n=e.$$;n.fragment!==null&&(F(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ie(e,t){e.$$.dirty[0]===-1&&(C.push(e),be(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(e,t,n,r,o,s,a,m=[-1]){const f=j;E(e);const i=e.$$={fragment:null,ctx:[],props:s,update:x,not_equal:o,bound:X(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:X(),dirty:m,skip_bound:!1,root:t.target||f.$$.root};a&&a(i.root);let u=!1;if(i.ctx=n?n(e,t.props||{},(l,c,...d)=>{const w=d.length?d[0]:c;return i.ctx&&o(i.ctx[l],i.ctx[l]=w)&&(!i.skip_bound&&i.bound[l]&&i.bound[l](w),u&&Ie(e,l)),c}):[],i.update(),u=!0,F(i.before_update),i.fragment=r?r(i.ctx):!1,t.target){if(t.hydrate){const l=ye(t.target);i.fragment&&i.fragment.l(l),l.forEach(p)}else i.fragment&&i.fragment.c();t.intro&&ve(e.$$.fragment),Te(e,t.target,t.anchor,t.customElement),re()}E(f)}class Ne{$destroy(){De(this,1),this.$destroy=x}$on(t,n){if(!le(n))return x;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!pe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ee(e,t,n){const r=e.slice();return r[8]=t[n],r}function Oe(e){let t,n,r;return{c(){t=g("h1"),t.textContent="done",n=k(),r=g("h2"),r.textContent="ðŸŽ‰ðŸŽ‰ðŸŽ‰"},m(o,s){_(o,t,s),_(o,n,s),_(o,r,s)},p:x,d(o){o&&p(t),o&&p(n),o&&p(r)}}}function Me(e){let t,n,r,o,s=e[2](e[0].shownSession.startTime)+"",a,m,f,i=e[0].shownSession.name+"",u,l,c,d,w;return{c(){t=g("h1"),t.textContent="current session",n=k(),r=g("h2"),o=v("started at "),a=v(s),m=k(),f=g("h1"),u=v(i),l=k(),c=g("button"),c.textContent="done"},m(h,y){_(h,t,y),_(h,n,y),_(h,r,y),S(r,o),S(r,a),_(h,m,y),_(h,f,y),S(f,u),_(h,l,y),_(h,c,y),d||(w=U(c,"click",e[5]),d=!0)},p(h,y){y&1&&s!==(s=h[2](h[0].shownSession.startTime)+"")&&M(a,s),y&1&&i!==(i=h[0].shownSession.name+"")&&M(u,i)},d(h){h&&p(t),h&&p(n),h&&p(r),h&&p(m),h&&p(f),h&&p(l),h&&p(c),d=!1,w()}}}function Ce(e){let t,n,r,o=e[3](e[0].shownSession)+"",s,a,m,f=e[0].shownSessionType==="next*"&&te(e);return{c(){t=g("h1"),t.textContent="next session",n=k(),r=g("h2"),s=v(o),a=k(),f&&f.c(),m=ie()},m(i,u){_(i,t,u),_(i,n,u),_(i,r,u),S(r,s),_(i,a,u),f&&f.m(i,u),_(i,m,u)},p(i,u){u&1&&o!==(o=i[3](i[0].shownSession)+"")&&M(s,o),i[0].shownSessionType==="next*"?f?f.p(i,u):(f=te(i),f.c(),f.m(m.parentNode,m)):f&&(f.d(1),f=null)},d(i){i&&p(t),i&&p(n),i&&p(r),i&&p(a),f&&f.d(i),i&&p(m)}}}function te(e){let t,n,r;return{c(){t=g("button"),t.textContent="start"},m(o,s){_(o,t,s),n||(r=U(t,"click",e[4]),n=!0)},p:x,d(o){o&&p(t),n=!1,r()}}}function ne(e){let t,n,r,o=e[0].history,s=[];for(let a=0;a<o.length;a+=1)s[a]=oe(ee(e,o,a));return{c(){t=g("div"),n=g("div"),n.textContent="â†“",r=k();for(let a=0;a<s.length;a+=1)s[a].c();z(n,"class","scroll svelte-1tkjip9"),z(t,"class","prev svelte-1tkjip9")},m(a,m){_(a,t,m),S(t,n),S(t,r);for(let f=0;f<s.length;f+=1)s[f].m(t,null)},p(a,m){if(m&5){o=a[0].history;let f;for(f=0;f<o.length;f+=1){const i=ee(a,o,f);s[f]?s[f].p(i,m):(s[f]=oe(i),s[f].c(),s[f].m(t,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=o.length}},d(a){a&&p(t),_e(s,a)}}}function oe(e){let t,n=e[8].name+"",r,o,s=e[8].startDate+"",a,m,f=e[2](e[8].startTime)+"",i;return{c(){t=g("div"),r=v(n),o=k(),a=v(s),m=k(),i=v(f)},m(u,l){_(u,t,l),S(t,r),S(t,o),S(t,a),S(t,m),S(t,i)},p(u,l){l&1&&n!==(n=u[8].name+"")&&M(r,n),l&1&&s!==(s=u[8].startDate+"")&&M(a,s),l&1&&f!==(f=u[2](u[8].startTime)+"")&&M(i,f)},d(u){u&&p(t)}}}function Ee(e){let t,n,r,o,s,a,m;function f(c,d){return c[0].shownSessionType==="next"||c[0].shownSessionType==="next*"?Ce:c[0].shownSessionType==="curr"?Me:Oe}let i=f(e),u=i(e),l=e[0].history.length>0&&ne(e);return{c(){t=g("div"),u.c(),n=k(),r=g("button"),r.textContent="ðŸ“‹ ðŸ”—",o=k(),l&&l.c(),s=ie(),z(r,"class","copy svelte-1tkjip9"),z(t,"class","screen svelte-1tkjip9")},m(c,d){_(c,t,d),u.m(t,null),S(t,n),S(t,r),_(c,o,d),l&&l.m(c,d),_(c,s,d),a||(m=U(r,"click",e[6]),a=!0)},p(c,[d]){i===(i=f(c))&&u?u.p(c,d):(u.d(1),u=i(c),u&&(u.c(),u.m(t,n))),c[0].history.length>0?l?l.p(c,d):(l=ne(c),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},i:x,o:x,d(c){c&&p(t),u.d(),c&&p(o),l&&l.d(c),c&&p(s),a=!1,m()}}}function je(e,t,n){const r=(l,c)=>{const w=Number.parseInt(l.split("-").join("")+c.toString().padStart(3,"0"))*15485863;return w*w*w%2038074743/2038074743},o=()=>{const[l,c,d,w,h]=JSON.parse(localStorage.getItem("data")),y=d.length*c,A=new Date().toISOString(),N=A.slice(0,10),[fe,ce]=A.slice(11,16).split(":").map(b=>Number.parseInt(b)),H=fe*12+ce/5,ae=new Date(l).getTime(),ue=new Date(N).getTime(),G=Math.round((ue-ae)/864e5);let Q=d.length-1;for(const[b,D]of d.entries())if(H<=D){Q=b-1;break}const I=Math.max(-1,G*d.length+Q),de=I===-1?-277:d[I%d.length],O=I+1,me=O===d.length?555:d[O%d.length];let $,T;G<0?($=O,T="next"):me-H<=6?($=O,h>=O?T="curr":T="next*"):H-de>72||h>I?($=O,T="next"):h===I?($=I,T="curr"):($=I,T="next*"),$>=y&&($=y,T="done");const W=Object.entries(w).sort(([b],[D])=>b==="nothing"?1:D==="nothing"?-1:0).flatMap(([b,D])=>new Array(D).fill(b)),L=[];for(let b=0;b<c;b++){const D=new Date(new Date(l).getTime()+864e5*b+432e5).toISOString().slice(0,10);for(let V of d){let B=r(D,V);b===0&&V===d[0]&&(B=Math.min(B,.49)),L.push({i:L.length,startDate:D,startTime:V,name:W.splice(Math.floor(B*W.length),1)[0]})}}return{shownSession:L[$],shownSessionType:T,shouldShowSession:h<$,history:L.slice(0,$).reverse()}},s=l=>`${`${Math.floor(l/12)}`.padStart(2,"0")}:${`${5*l%12}`.padStart(2,"0")}`,a=l=>{const c=new Date().toISOString(),[d,w]=c.slice(11,16).split(":").map(N=>Number.parseInt(N)),h=d*12+w/5,y=c.slice(0,10),A=new Date(Date.now()+864e5).toISOString().slice(0,10);if(l.startDate===y){const N=Math.round(5*(l.startTime-h));return N<=0?"now":`in ${N} mins (${s(l.startTime)})`}else return l.startDate===A?`tomorrow at ${s(l.startTime)}`:`on ${l.startDate} at ${s(l.startTime)}`};let m=o();return we(async()=>{for(;;)await new Promise(l=>{setTimeout(()=>{l()},61e3-Date.now()%6e4)}),n(0,m=o())}),[m,o,s,a,()=>{const l=JSON.parse(localStorage.getItem("data"));l[4]=m.shownSession.i,localStorage.setItem("data",JSON.stringify(l)),n(0,m=o())},()=>{const l=JSON.parse(localStorage.getItem("data"));l[4]=m.shownSession.i+.5,localStorage.setItem("data",JSON.stringify(l)),n(0,m=o())},l=>{const c=l.currentTarget;navigator.clipboard.writeText("/load.html?x="+btoa(encodeURIComponent(localStorage.getItem("data")))).then(()=>{c.innerText="copied link",c.style.lineHeight="16px",c.style.fontSize="14px",c.style.padding="4px",c.style.color="#fff",setTimeout(()=>{c.innerText="ðŸ“‹ ðŸ”—",c.style.lineHeight="",c.style.fontSize="",c.style.color="",c.style.padding=""},1e3)}).catch(()=>{})}]}class Ae extends Ne{constructor(t){super(),xe(this,t,je,Ee,he,{})}}new Ae({target:document.getElementById("app")});
